<!DOCTYPE html>
<html>
<head>
    <title>Congressional Committee Maps</title>
    <script src="bower_components/jquery/jquery.js"></script>
    <script src="bower_components/underscore/underscore.js"></script>
    <script src="bower_components/backbone/backbone.js"></script>
    <!--<script src="/js/main.js"></script>-->
    <script src="js/models/committeeList.js"></script>
    <!--<script src="js/collections/users.js"></script>-->
    <!--<script src="js/routers/router.js"></script>-->
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.css" />
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.ie.css" />
    <![endif]-->
    <script src="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.js"></script>

    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/foundation.css" />

    <!-- custom css -->
    <link rel="stylesheet" href="css/style.css" />

    <script src="maps/gz_2010_us_040_00_20m.js"></script>
    <script src="maps/gz_2010_us_500_11_20m.js"></script>
    <script src="js/vendor/custom.modernizr.js"></script>
    <script src="js/foundation/foundation.js"></script>
    <script src="js/foundation/foundation.dropdown.js"></script>
<!--    <script>

        // removed

        var stateFips2Name = {"01":"Alabama","02":"Alaska","04":"Arizona","05":"Arkansas","06":"California","08":"Colorado","09":"Connecticut","10":"Delaware","11":"District of Columbia","12":"Florida","13":"Georgia","15":"Hawaii","16":"Idaho","17":"Illinois","18":"Indiana","19":"Iowa","20":"Kansas","21":"Kentucky","22":"Louisiana","23":"Maine","24":"Maryland","25":"Massachusetts","26":"Michigan","27":"Minnesota","28":"Mississippi","29":"Missouri","30":"Montana","31":"Nebraska","32":"Nevada","33":"New Hampshire","34":"New Jersey","35":"New Mexico","36":"New York","37":"North Carolina","38":"North Dakota","39":"Ohio","40":"Oklahoma","41":"Oregon","42":"Pennsylvania","44":"Rhode Island","45":"South Carolina","46":"South Dakota","47":"Tennessee","48":"Texas","49":"Utah","50":"Vermont","51":"Virginia","53":"Washington","54":"West Virginia","55":"Wisconsin","56":"Wyoming","72":"Puerto Rico"};

var stateName2Abbrev = {"Alabama":"AL","Alaska":"AK","Arizona":"AZ","Arkansas":"AR","California":"CA","Colorado":"CO","Connecticut":"CT","Delaware":"DE","District of Columbia":"DC","Florida":"FL","Georgia":"GA","Hawaii":"HI","Idaho":"ID","Illinois":"IL","Indiana":"IN","Iowa":"IA","Kansas":"KS","Kentucky":"KY","Louisiana":"LA","Maine":"ME","Maryland":"MD","Massachusetts":"MA","Michigan":"MI","Minnesota":"MN","Mississippi":"MS","Missouri":"MO","Montana":"MT","Nebraska":"NE","Nevada":"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND","Ohio":"OH","Oklahoma":"OK","Oregon":"OR","Pennsylvania":"PA","Puerto Rico":"PR","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD","Tennessee":"TN","Texas":"TX","Utah":"UT","Vermont":"VT","Virginia":"VA","Washington":"WA","West Virginia":"WV","Wisconsin":"WI","Wyoming":"WY"}

// list of committees
// http://congress.api.sunlightfoundation.com/committees?per_page=all&apikey=9e3e71730ae34e1ebbf4dd0e1c346c07
// list of house committees with detail
// http://congress.api.sunlightfoundation.com/committees?per_page=all&apikey=9e3e71730ae34e1ebbf4dd0e1c346c07&chamber=house&subcommittee=false


// particular committee detail
//http://congress.api.sunlightfoundation.com/committees?per_page=all&chamber=house&committee_id=HSHM&subcommittee=false&fields=name,committee_id,office,subcommittee,phone,url,member_ids,members&apikey=9e3e71730ae34e1ebbf4dd0e1c346c07

//legislator birthday
//http://congress.api.sunlightfoundation.com/committees?per_page=all&chamber=house&committee_id=HSHM&subcommittee=false&fields=name,committee_id,office,subcommittee,phone,url,member_ids,members.legislator.birthday&apikey=9e3e71730ae34e1ebbf4dd0e1c346c07

    var statesMap = $.ajax({
    dataType: "json",
    url: "http://congress.api.sunlightfoundation.com/committees?per_page=all&chamber=house&committee_id=HSHM&subcommittee=false&fields=name,committee_id,office,subcommittee,phone,url,member_ids,members&apikey=9e3e71730ae34e1ebbf4dd0e1c346c07"}).done(
            function(result){
                //handling of your json data
                console.log("done")
            });

    </script>-->


</head>
<body>



<script>
    $(document).foundation();
</script>
<div class="row">
    <div class="large-12 columns">
        <!--<div class="nav-bar right">-->
            <!--<ul class="button-group">-->
                <!--<li><a href="#" class="button">About</a></li>-->

            <!--</ul>-->
        <!--</div>-->
        <h1><small>Congressional Committee Maps</small></h1>
    </div>
</div>

<!-- End Nav -->


<!-- Main Page Content and Sidebar -->

<div class="row">

    <!-- Main Blog Content -->
    <div class="large-9 columns" role="content">

        <article>
            <div class="large-12 columns">
                <a href="#" class="button" data-dropdown="tinyDropHouse">House Committees &raquo;</a>
                <ul id="tinyDropHouse" class="f-dropdown" data-dropdown-content="" style="position: absolute; top: 230px; left: -99999px;">
                    <li><a href="#">This is a link</a></li>
                    <li><a href="#">This is another</a></li>
                    <li><a href="#">Yet another</a></li>
                </ul>
                <a href="#" class="button" data-dropdown="tinyDropSenate">Senate Committees &raquo;</a>
                <ul id="tinyDropSenate" class="f-dropdown" data-dropdown-content="" style="position: absolute; top: 230px; left: -99999px;">
                    <li><a href="#">This is a link</a></li>
                    <li><a href="#">This is another</a></li>
                    <li><a href="#">Yet another</a></li>
                </ul>
                <a href="#" class="button" data-dropdown="tinyDropJoint">Joint Committees &raquo;</a>
                <ul id="tinyDropJoint" class="f-dropdown" data-dropdown-content="" style="position: absolute; top: 230px; left: -99999px;">
                    <li><a href="#">This is a link</a></li>
                    <li><a href="#">This is another</a></li>
                    <li><a href="#">Yet another</a></li>
                </ul>

            </div>
            <div class="row">

                <div class="large-12 columns" id="map">
                    <!--<img src="http://placehold.it/960x600&text=[map]" />-->
                </div>
            </div>

        </article>


    </div>

    <!-- End Main Content -->


    <!-- Sidebar -->

    <aside class="large-3 columns">
        <div class="panel">
            <h5>Featured</h5>
            <p>Click a district or member for detail.</p>
        </div>
        <h5>Committee Members</h5>
        <ul class="side-nav">
            <li><a href="#">Member 1</a></li>
            <li><a href="#">Member 2</a></li>
            <li><a href="#">Member 3</a></li>
            <li><a href="#">Member 4</a></li>
            <li><a href="#">Member 5</a></li>
        </ul>



    </aside>

    <!-- End Sidebar -->
</div>

<!-- End Main Content and Sidebar -->


<!-- Footer -->

<footer class="row">
    <div class="large-12 columns">
        <hr />
        <div class="row">
            <div class="large-6 columns">
                <p>Let me know if you use these maps: mroswell@gmail.com</p>
            </div>
            <div class="large-6 columns">
             &nbsp;
            </div>
        </div>
    </div>
</footer>

<script>
    var latitude = 39.9;
    var longitude = -98.5;
    var latLng = new L.LatLng(latitude, longitude);
    var map = L.map('map').setView(latLng, 4);
//    var marker = L.marker(latLng).addTo(map);
L.geoJson(statesMap).addTo(map);
L.geoJson(congressionalMap).addTo(map);

    L.tileLayer('http://{s}.tile.cloudmade.com/4733d063f9704b1c940a64459b1263e9/96931/256/{z}/{x}/{y}.png', {
        attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://cloudmade.com">CloudMade</a>',
        maxZoom: 18
    }).addTo(map);

    $(".you-are-here").on("click", function() {
        var setPosition = function(geo) {
            var latlng = new L.LatLng(geo.coords.latitude, geo.coords.longitude);
            var you = new L.marker(latlng).addTo(map);
            map.setView(latlng, 16);
        };
        navigator.geolocation.getCurrentPosition(setPosition);
    });

</script>
<!-- https://github.com/angular/angular.js/issues/4557 -->

</body>
</html>
